var mod_pagespeed_CW9qCHQmnG = "jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}\nelse var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}\nelse var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}\nelse var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});";
var mod_pagespeed_syZZ2czF7O = "(function($){\"use strict\";var $window=$(window);var windowHeight=$window.height();$window.resize(function(){windowHeight=$window.height();});$.fn.btparallaxfix=function(xpos,speedFactor,outerHeight){var $this=$(this);var getHeight;var firstTop;var paddingTop=0;$this.each(function(){firstTop=$this.offset().top;});if(outerHeight){getHeight=function(jqo){return jqo.outerHeight(true);};}else{getHeight=function(jqo){return jqo.height();};}\nif(arguments.length<1||xpos===null)xpos=\"50%\";if(arguments.length<2||speedFactor===null)speedFactor=0.1;if(arguments.length<3||outerHeight===null)outerHeight=true;function update(){var pos=$window.scrollTop();$this.each(function(){if($(this).is(\":hidden\"))return;var $element=$(this);var top=$element.offset().top;var height=getHeight($element);if(top+height<pos||top>pos+windowHeight){return;}\n$this.find('.parallax-background').css('top',Math.round(-1*(firstTop-pos)*speedFactor)+\"px\");});}\n$window.bind('scroll',update).resize(update);update();};})(jQuery);";
var mod_pagespeed_bKkRSY3yoM = "(function($,window,document,Math,undefined){var div=document.createElement(\"div\"),divStyle=div.style,suffix=\"Transform\",testProperties=[\"O\"+suffix,\"ms\"+suffix,\"Webkit\"+suffix,\"Moz\"+suffix],i=testProperties.length,supportProperty,supportMatrixFilter,supportFloat32Array=\"Float32Array\"in window,propertyHook,propertyGet,rMatrix=/Matrix([^)]*)/,rAffine=/^\\s*matrix\\(\\s*1\\s*,\\s*0\\s*,\\s*0\\s*,\\s*1\\s*(?:,\\s*0(?:px)?\\s*){2}\\)\\s*$/,_transform=\"transform\",_transformOrigin=\"transformOrigin\",_translate=\"translate\",_rotate=\"rotate\",_scale=\"scale\",_skew=\"skew\",_matrix=\"matrix\";while(i--){if(testProperties[i]in divStyle){$.support[_transform]=supportProperty=testProperties[i];$.support[_transformOrigin]=supportProperty+\"Origin\";continue;}}\nif(!supportProperty){$.support.matrixFilter=supportMatrixFilter=divStyle.filter===\"\";}\n$.cssNumber[_transform]=$.cssNumber[_transformOrigin]=true;if(supportProperty&&supportProperty!=_transform){$.cssProps[_transform]=supportProperty;$.cssProps[_transformOrigin]=supportProperty+\"Origin\";if(supportProperty==\"Moz\"+suffix){propertyHook={get:function(elem,computed){return(computed?$.css(elem,supportProperty).split(\"px\").join(\"\"):elem.style[supportProperty]);},set:function(elem,value){elem.style[supportProperty]=/matrix\\([^)p]*\\)/.test(value)?value.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,_matrix+\"$1$2px,$3px\"):value;}};}else if(/^1\\.[0-5](?:\\.|$)/.test($.fn.jquery)){propertyHook={get:function(elem,computed){return(computed?$.css(elem,supportProperty.replace(/^ms/,\"Ms\")):elem.style[supportProperty]);}};}}else if(supportMatrixFilter){propertyHook={get:function(elem,computed,asArray){var elemStyle=(computed&&elem.currentStyle?elem.currentStyle:elem.style),matrix,data;if(elemStyle&&rMatrix.test(elemStyle.filter)){matrix=RegExp.$1.split(\",\");matrix=[matrix[0].split(\"=\")[1],matrix[2].split(\"=\")[1],matrix[1].split(\"=\")[1],matrix[3].split(\"=\")[1]];}else{matrix=[1,0,0,1];}\nif(!$.cssHooks[_transformOrigin]){matrix[4]=elemStyle?parseInt(elemStyle.left,10)||0:0;matrix[5]=elemStyle?parseInt(elemStyle.top,10)||0:0;}else{data=$._data(elem,\"transformTranslate\",undefined);matrix[4]=data?data[0]:0;matrix[5]=data?data[1]:0;}\nreturn asArray?matrix:_matrix+\"(\"+matrix+\")\";},set:function(elem,value,animate){var elemStyle=elem.style,currentStyle,Matrix,filter,centerOrigin;if(!animate){elemStyle.zoom=1;}\nvalue=matrix(value);Matrix=[\"Matrix(\"+\"M11=\"+value[0],\"M12=\"+value[2],\"M21=\"+value[1],\"M22=\"+value[3],\"SizingMethod='auto expand'\"].join();filter=(currentStyle=elem.currentStyle)&&currentStyle.filter||elemStyle.filter||\"\";elemStyle.filter=rMatrix.test(filter)?filter.replace(rMatrix,Matrix):filter+\" progid:DXImageTransform.Microsoft.\"+Matrix+\")\";if(!$.cssHooks[_transformOrigin]){if((centerOrigin=$.transform.centerOrigin)){elemStyle[centerOrigin==\"margin\"?\"marginLeft\":\"left\"]=-(elem.offsetWidth/2)+(elem.clientWidth/2)+\"px\";elemStyle[centerOrigin==\"margin\"?\"marginTop\":\"top\"]=-(elem.offsetHeight/2)+(elem.clientHeight/2)+\"px\";}\nelemStyle.left=value[4]+\"px\";elemStyle.top=value[5]+\"px\";}else{$.cssHooks[_transformOrigin].set(elem,value);}}};}\nif(propertyHook){$.cssHooks[_transform]=propertyHook;}\npropertyGet=propertyHook&&propertyHook.get||$.css;$.fx.step.transform=function(fx){var elem=fx.elem,start=fx.start,end=fx.end,pos=fx.pos,transform=\"\",precision=1E5,i,startVal,endVal,unit;if(!start||typeof start===\"string\"){if(!start){start=propertyGet(elem,supportProperty);}\nif(supportMatrixFilter){elem.style.zoom=1;}\nend=end.split(\"+=\").join(start);$.extend(fx,interpolationList(start,end));start=fx.start;end=fx.end;}\ni=start.length;while(i--){startVal=start[i];endVal=end[i];unit=+false;switch(startVal[0]){case _translate:unit=\"px\";case _scale:unit||(unit=\"\");transform=startVal[0]+\"(\"+Math.round((startVal[1][0]+(endVal[1][0]-startVal[1][0])*pos)*precision)/precision+unit+\",\"+Math.round((startVal[1][1]+(endVal[1][1]-startVal[1][1])*pos)*precision)/precision+unit+\")\"+transform;break;case _skew+\"X\":case _skew+\"Y\":case _rotate:transform=startVal[0]+\"(\"+Math.round((startVal[1]+(endVal[1]-startVal[1])*pos)*precision)/precision+\"rad)\"+transform;break;}}\nfx.origin&&(transform=fx.origin+transform);propertyHook&&propertyHook.set?propertyHook.set(elem,transform,+true):elem.style[supportProperty]=transform;};function matrix(transform){transform=transform.split(\")\");var\ntrim=$.trim,i=-1,l=transform.length-1,split,prop,val,prev=supportFloat32Array?new Float32Array(6):[],curr=supportFloat32Array?new Float32Array(6):[],rslt=supportFloat32Array?new Float32Array(6):[1,0,0,1,0,0];prev[0]=prev[3]=rslt[0]=rslt[3]=1;prev[1]=prev[2]=prev[4]=prev[5]=0;while(++i<l){split=transform[i].split(\"(\");prop=trim(split[0]);val=split[1];curr[0]=curr[3]=1;curr[1]=curr[2]=curr[4]=curr[5]=0;switch(prop){case _translate+\"X\":curr[4]=parseInt(val,10);break;case _translate+\"Y\":curr[5]=parseInt(val,10);break;case _translate:val=val.split(\",\");curr[4]=parseInt(val[0],10);curr[5]=parseInt(val[1]||0,10);break;case _rotate:val=toRadian(val);curr[0]=Math.cos(val);curr[1]=Math.sin(val);curr[2]=-Math.sin(val);curr[3]=Math.cos(val);break;case _scale+\"X\":curr[0]=+val;break;case _scale+\"Y\":curr[3]=val;break;case _scale:val=val.split(\",\");curr[0]=val[0];curr[3]=val.length>1?val[1]:val[0];break;case _skew+\"X\":curr[2]=Math.tan(toRadian(val));break;case _skew+\"Y\":curr[1]=Math.tan(toRadian(val));break;case _matrix:val=val.split(\",\");curr[0]=val[0];curr[1]=val[1];curr[2]=val[2];curr[3]=val[3];curr[4]=parseInt(val[4],10);curr[5]=parseInt(val[5],10);break;}\nrslt[0]=prev[0]*curr[0]+prev[2]*curr[1];rslt[1]=prev[1]*curr[0]+prev[3]*curr[1];rslt[2]=prev[0]*curr[2]+prev[2]*curr[3];rslt[3]=prev[1]*curr[2]+prev[3]*curr[3];rslt[4]=prev[0]*curr[4]+prev[2]*curr[5]+prev[4];rslt[5]=prev[1]*curr[4]+prev[3]*curr[5]+prev[5];prev=[rslt[0],rslt[1],rslt[2],rslt[3],rslt[4],rslt[5]];}\nreturn rslt;}\nfunction unmatrix(matrix){var\nscaleX,scaleY,skew,A=matrix[0],B=matrix[1],C=matrix[2],D=matrix[3];if(A*D-B*C){scaleX=Math.sqrt(A*A+B*B);A/=scaleX;B/=scaleX;skew=A*C+B*D;C-=A*skew;D-=B*skew;scaleY=Math.sqrt(C*C+D*D);C/=scaleY;D/=scaleY;skew/=scaleY;if(A*D<B*C){A=-A;B=-B;skew=-skew;scaleX=-scaleX;}}else{scaleX=scaleY=skew=0;}\nreturn[[_translate,[+matrix[4],+matrix[5]]],[_rotate,Math.atan2(B,A)],[_skew+\"X\",Math.atan(skew)],[_scale,[scaleX,scaleY]]];}\nfunction interpolationList(start,end){var list={start:[],end:[]},i=-1,l,currStart,currEnd,currType;(start==\"none\"||isAffine(start))&&(start=\"\");(end==\"none\"||isAffine(end))&&(end=\"\");if(start&&end&&!end.indexOf(\"matrix\")&&toArray(start).join()==toArray(end.split(\")\")[0]).join()){list.origin=start;start=\"\";end=end.slice(end.indexOf(\")\")+1);}\nif(!start&&!end){return;}\nif(!start||!end||functionList(start)==functionList(end)){start&&(start=start.split(\")\"))&&(l=start.length);end&&(end=end.split(\")\"))&&(l=end.length);while(++i<l-1){start[i]&&(currStart=start[i].split(\"(\"));end[i]&&(currEnd=end[i].split(\"(\"));currType=$.trim((currStart||currEnd)[0]);append(list.start,parseFunction(currType,currStart?currStart[1]:0));append(list.end,parseFunction(currType,currEnd?currEnd[1]:0));}}else{list.start=unmatrix(matrix(start));list.end=unmatrix(matrix(end))}\nreturn list;}\nfunction parseFunction(type,value){var\ndefaultValue=+(!type.indexOf(_scale)),scaleX,cat=type.replace(/e[XY]/,\"e\");switch(type){case _translate+\"Y\":case _scale+\"Y\":value=[defaultValue,value?parseFloat(value):defaultValue];break;case _translate+\"X\":case _translate:case _scale+\"X\":scaleX=1;case _scale:value=value?(value=value.split(\",\"))&&[parseFloat(value[0]),parseFloat(value.length>1?value[1]:type==_scale?scaleX||value[0]:defaultValue+\"\")]:[defaultValue,defaultValue];break;case _skew+\"X\":case _skew+\"Y\":case _rotate:value=value?toRadian(value):0;break;case _matrix:return unmatrix(value?toArray(value):[1,0,0,1,0,0]);break;}\nreturn[[cat,value]];}\nfunction isAffine(matrix){return rAffine.test(matrix);}\nfunction functionList(transform){return transform.replace(/(?:\\([^)]*\\))|\\s/g,\"\");}\nfunction append(arr1,arr2,value){while(value=arr2.shift()){arr1.push(value);}}\nfunction toRadian(value){return~value.indexOf(\"deg\")?parseInt(value,10)*(Math.PI*2/360):~value.indexOf(\"grad\")?parseInt(value,10)*(Math.PI/200):parseFloat(value);}\nfunction toArray(matrix){matrix=/([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(matrix);return[matrix[1],matrix[2],matrix[3],matrix[4],matrix[5],matrix[6]];}\n$.transform={centerOrigin:\"margin\"};})(jQuery,window,document,Math);";
var mod_pagespeed_wIHPoiplLV = "(function($){\"use strict\";$.fn.btParallax=function(options){$(this).each(function(){var btParallax=this;var adv=$(this);this.win_height=$(window).height();this.win_width=$(window).width();this.para_height=adv.height(),this.para_width=adv.width();this.ePos,this.eSize,this.isThumClick=false,this.isNavClick=true,this.enableControlButton=false;this.eTopCurrent=adv.offset().top-$(window).scrollTop(),this.eTopCenter=((this.win_height-this.para_height)/2),this.eLeftCurrent=adv.offset().left;this.back_posY,this.back_posX;this.s,this.timer=null;this.background=adv.find('.parallax-background');this.background_img=adv.find('.parallax-background img');this.c_pos=adv.find('.parallax-content-in');this.itemIndex=0;this.list,this.row_list,this.image_list,this.listAnimate=false;var videoContain='';var s;if(options.contentType=='video'){videoContain=adv.find('.content-show-large .item-contain');adv.videoCache=videoContain.html();videoContain.find('video').each(function()\n{this.pause();});videoContain.html('');}\nthis.renderParallax=function(){if(options.slideSize.type==='full'){adv.find('.parallax-block-content').css({'width':adv.parent().parent().width(),'marginLeft':adv.parent().parent().offset().left});}\nif(options.parallaxType==='static'){adv.find('.open-btn').removeClass('open-btn').addClass('hidden');}\nadv.find('.open-btn').click(function(){btParallax.openParallaxContent(this);return false;});adv.find('.close-btn').click(function(){btParallax.closeButtonClick(this);});adv.find('.nav-next').click(function(){btParallax.navNextClick(this);});adv.find('.nav-prev').click(function(){btParallax.navPrevClick(this);});adv.find('.thumb').on('click',function(e){btParallax.imgThumbClick(e,this);});$(window).resize(function(){btParallax.responsive();});};this.openParallaxContent=function(e){adv.css('z-index','999999');adv.find('.parallax-block-content h1').addClass('out-pos').removeClass('default-pos');adv.find('.parallax-background').addClass('in-parallax');adv.find('.parallax-block-content img').addClass('out-pos').removeClass('default-pos');adv.find('.parallax-block-content p').addClass('out-pos').removeClass('default-pos');adv.find('.parallax-block-content').addClass('out-pos').removeClass('default-pos');setTimeout(function(){adv.find('.parallax-block-content h1').removeClass('out-pos').addClass('in-pos');adv.find('.parallax-block-content img').removeClass('out-pos').addClass('in-pos');adv.find('.parallax-block-content p').removeClass('out-pos').addClass('in-pos');adv.find('.parallax-block-content').removeClass('out-pos').addClass('in-pos');},5000);$('body').addClass('no-scroll');$('html').addClass('no-scroll');btParallax.para_height=adv.height(),btParallax.para_width=adv.width();btParallax.eTopCurrent=adv.offset().top-$(window).scrollTop();btParallax.eTopCenter=((btParallax.win_height-btParallax.para_height)/2);btParallax.eLeftCurrent=adv.offset().left;if(btParallax.eTopCurrent>btParallax.eTopCenter){s=btParallax.eTopCurrent-btParallax.eTopCenter;}else{s=btParallax.eTopCenter-btParallax.eTopCurrent;}\nbtParallax.back_posY=adv.find('.parallax-background').position().top;btParallax.back_posX=adv.find('.parallax-background').position().left;if(options.slideSize.type==='full'){var cssOpen={'position':'fixed','z-index':99999,'width':'100%','height':btParallax.para_height,'top':btParallax.eTopCurrent,'left':0};}else{var cssOpen={'position':'fixed','z-index':99999,'width':btParallax.para_width,'height':btParallax.para_height,'top':btParallax.eTopCurrent,'left':btParallax.eLeftCurrent};}\nvar espeed=s*options.speed;if(espeed<500){espeed=500;}\nadv.css(cssOpen).animate({'top':btParallax.eTopCenter},{duration:espeed,step:function(now,fx){var walk=Math.round(((now-btParallax.eTopCenter)/s)*btParallax.back_posY);adv.find('.parallax-background').css({left:btParallax.back_posX+'px',top:walk+'px'});},done:function(){setTimeout(function(){adv.animate({'top':0,'height':'100%'},{duration:1000,step:function(now,fx){},done:function(){if(options.slideSize.type==='full'){btParallax.openParallaxContentLoad();}else{setTimeout(function(){adv.animate({'left':0,'width':'100%'},{duration:1000,step:function(now,fx){},done:function(){btParallax.openParallaxContentLoad();}},'easeInOutQuint');},200);}}},'easeInOutQuint');},200);}},'easeInOutQuint');};this.setGalleryGridLayout=function setGalleryGridLayout(){options.item_height=$(window).height()-options.centerPadding*2;options.sub_item_size=Math.floor((options.item_height-options.spacing*2)/3+options.spacing);options.item_width=options.sub_item_size*5;$('.parallax-row-w1,.parallax-row.box2',adv).width(options.sub_item_size*2);$('.parallax-row-w2',adv).width(options.sub_item_size);$('.parallax-row-w3,.parallax-row.box1',adv).width(options.sub_item_size*3);$('.parallax-col .thumb',adv).width(options.sub_item_size-options.spacing).height(options.sub_item_size-options.spacing);$('.parallax-col .thumb.w2',adv).width(options.sub_item_size*2-options.spacing);$('.parallax-col .thumb.w3',adv).height(options.sub_item_size*2-options.spacing).width(options.sub_item_size-options.spacing);$('.parallax-col .thumb',adv).css('margin',options.spacing+'px '+options.spacing+'px 0 0');if(options.contentType==='image'){btParallax.list=adv.find('.parallax-col');btParallax.list.each(function(index){$(this).find('.parallax-row').css({'height':options.item_height});$(this).css({'width':options.item_width+'px','margin-right':options.spacing});});if(btParallax.list.length>0){btParallax.c_pos.width((options.item_width+options.spacing)*btParallax.list.length);}else{btParallax.c_pos.css('width','100%');}\nbtParallax.c_pos.css('height',((options.item_height+options.spacing)*options.rows-options.spacing+20)+'px');if(btParallax.win_height>((options.item_height+options.spacing)*options.rows-options.spacing+40)){btParallax.c_pos.css('margin-top',(btParallax.win_height-((options.item_height+options.spacing)*options.rows+options.spacing))/2+'px');adv.find('.button-wrap .close-btn').removeClass('has-scroll');adv.find('.nav-wrap-in.next').removeClass('has-scroll');}else{btParallax.c_pos.css('margin-top','20px');adv.find('.button-wrap .close-btn').addClass('has-scroll');adv.find('.nav-wrap-in.next').addClass('has-scroll');}\nif((options.item_width+options.spacing)*btParallax.list.length<btParallax.win_width){btParallax.c_pos.parent().css('left',(btParallax.win_width-(options.item_width+options.spacing)*btParallax.list.length)/2+'px');}}}\nthis.openParallaxContentLoad=function(){btParallax.enableControlButton=true;btParallax.image_list=adv.find('.parallax-content-in .show_box');btParallax.setGalleryGridLayout();$(window).resize(function(){btParallax.c_pos.fadeOut('slow',function(){btParallax.c_pos.fadeIn('slow');});btParallax.setGalleryGridLayout();adv.find('.content-show-large .item-contain video:first').trigger('loadedmetadata.resize');})\nif(options.contentType==='video'){btParallax.list=adv.find('.video-contain');adv.find('.parallax-content-wrap').css({'overflow':'hidden'});adv.find('.content-show-large').css({'backgroundColor':'#000000'});}\nadv.find('.parallax-content-wrap').fadeIn(500,function(){adv.find('.overlay-loading').hide();if(options.contentType==='image'){adv.find('.parallax-content').removeClass('hidden').addClass('image-gallery');btParallax.loadImageItems(true,function(){btParallax.isThumClick=true;adv.find('.control-button .button-wrap').fadeIn(1000);if((options.item_width+options.spacing)*btParallax.list.length>btParallax.win_width){adv.find('.nav-wrap').removeClass('hidden');btParallax.listAnimate=true;btParallax.animateStart();}});}\nif(options.contentType==='video'){adv.find('.parallax-content').removeClass('hidden').addClass('video-list');adv.find('.content-show-large .item-contain').html(adv.videoCache);adv.find('.content-show-large .item-contain video:first').each(function(){if('ontouchstart'in window||navigator.msMaxTouchPoints)$(this).attr(\"controls\",true);this.play();})\nadv.find('.content-show-large .item-contain .video-inner').show();adv.find('.content-show-large').removeClass('hidden').fadeIn(300);adv.find('.content-show-large .loading').css({'position':'absolute','top':'50%','left':'50%','transform':'translate(-50%, -50%)'}).fadeIn(300);adv.find('.control-button .button-wrap').fadeIn(1000);if(btParallax.list.length>1){adv.find('.nav-wrap').removeClass('hidden');adv.find('.nav-prev').addClass('prev-video');adv.find('.nav-next').addClass('next-video');}\nadv.find('.content-show-large .item-contain video:first').on('loadedmetadata.resize',function(){adv.find('.content-show-large .item-contain video').each(function(){if($(window).width()*$(this).height()/$(this).width()<$(window).height()){$(this).css({'width':'auto','height':'100%'});$(this).css({'margin-left':(($(window).width()-$(this).width())/2)+'px','margin-top':0});}else{$(this).css({'width':'100%','height':'auto'});$(this).css({'margin-top':(($(window).height()-$(this).height())/2)+'px','margin-left':0});}});});}\nif(options.contentType==='postContent'){adv.find('.parallax-content').removeClass('hidden').addClass('post-content');btParallax.loadImageItems(true,function(){adv.find('.control-button .button-wrap').fadeIn(1000);if((options.item_width+options.spacing)*btParallax.list.length>btParallax.win_width){adv.find('.nav-wrap').removeClass('hidden');adv.find('.nav-prev').addClass('prev-post');adv.find('.nav-next').addClass('next-post');}});}});};this.closeButtonClick=function(e){if($(e).hasClass('close-image-info')){adv.find('.parallax-content-wrap').css('overflow-y','auto');adv.find('.nav-prev').removeClass('prev-large');adv.find('.nav-next').removeClass('next-large');adv.find('.content-show-large.show').animate({'top':btParallax.ePos.top,'left':btParallax.ePos.left,'width':0,'height':0},500,function(){$(this).addClass('hidden').removeClass('show');adv.find('.close-btn').removeClass('close-image-info');setTimeout(function(){if(btParallax.listAnimate){btParallax.animateStart();adv.find('.nav-wrap').removeClass('hidden');}else{adv.find('.nav-wrap').addClass('hidden');}\nbtParallax.isThumClick=true;},100);});return;}\nbtParallax.enableControlButton=false;$(e).parent().fadeOut();adv.find('.nav-wrap').addClass('hidden');if(options.contentType==='image'||options.contentType==='postContent'){btParallax.loadImageItems(false,function(){btParallax.row_list.addClass('in-pos').removeClass('out-pos');btParallax.closeParallaxContent();});}else{btParallax.closeParallaxContent();}};this.closeParallaxContent=function(){adv.find('.parallax-content-wrap').fadeOut(500,function(){$('body').removeClass('no-scroll');$('html').removeClass('no-scroll');if(options.slideSize.type==='full'){btParallax.parallaxContentZoomOutHeight();}else{btParallax.parallaxContentZoomOutWidth(btParallax.parallaxContentZoomOutHeight());}});};this.parallaxContentZoomOutWidth=function(callback){adv.animate({'left':(btParallax.win_width-btParallax.para_width)/2,'width':btParallax.para_width},{duration:500,step:function(now,fx){adv.find('.parallax-background').css({left:btParallax.back_posX+'px',top:'0px'});},done:function(){callback;}},'easeInOutQuint');};this.parallaxContentZoomOutHeight=function(){if(options.contentType==='video'){adv.find('.content-show-large .item-contain').html('');}\nif(adv.parent().hasClass('full-width')){btParallax.win_width=$(window).width();adv.parent().css('width',btParallax.win_width);}\nadv.find('.parallax-background').css({left:btParallax.back_posX+'px',top:'0px'});adv.find('.nav-wrap').addClass('hidden');adv.animate({'top':btParallax.eTopCenter,'height':btParallax.para_height},1000,'easeInOutQuint',function(){setTimeout(function(){var espeed=s*options.speed;if(espeed<500){espeed=500;}\nvar eleftC=btParallax.eLeftCurrent;if(options.slideSize.type==='full'){eleftC=0;}\nadv.animate({'top':btParallax.eTopCurrent,'left':eleftC},{duration:espeed,step:function(now,fx){var walk=Math.round(((now-btParallax.eTopCenter)/s)*btParallax.back_posY);if(walk<0)\nwalk=walk*(-1);adv.find('.parallax-background').css({left:btParallax.back_posX+'px',top:'0px'});},done:function(){adv.find('.parallax-background').removeClass('in-parallax');adv.find('.parallax-block-content').addClass('default-pos').removeClass('in-pos');adv.find('.parallax-block-content h1').addClass('default-pos').removeClass('in-pos');adv.find('.parallax-block-content img').addClass('default-pos').removeClass('in-pos');adv.find('.parallax-block-content p').addClass('default-pos').removeClass('in-pos');if(options.contentType==='image'){adv.find('.parallax-content').addClass('hidden').removeClass('image-gallery');btParallax.animateStop();adv.find('.open-btn').fadeIn();}\nif(options.contentType==='video'){adv.find('.parallax-content').addClass('hidden').removeClass('video-list');adv.find('.open-btn').fadeIn();}\nif(options.contentType==='postContent'){adv.find('.parallax-content').addClass('hidden').removeClass('post-content');adv.find('.open-btn').fadeIn();}\nadv.attr('style','');}},'easeInOutQuint');},200);});};this.navNextClick=function(e){if($(e).hasClass('next-large')){var timeout=setTimeout(function(){adv.find('.content-show-large .loading').fadeIn(100);},100);var ce=adv.find('.show_box.show');var ne;if(btParallax.image_list.index(ce)+1>=btParallax.image_list.length){ne=btParallax.image_list[0];}else{ne=btParallax.image_list[btParallax.image_list.index(ce)+1];}\nvar n_e=$(ne).html();adv.find('.content-show-large .item-contain').append($(n_e).css('display','none'));if(adv.find('.content-show-large .item-contain img').length>2){adv.find('.content-show-large .item-contain img:first').remove();}\nvar img=new Image();$(img).load(function(){adv.find('.content-show-large .item-contain img:first').fadeOut(2000);adv.find('.content-show-large .item-contain img:last').fadeIn(2000,function(){if(adv.find('.content-show-large .item-contain img').length>2){adv.find('.content-show-large .item-contain img:first').remove();}});clearTimeout(timeout);adv.find('.content-show-large .loading').fadeOut(100);$(ne).addClass('show');ce.removeClass('show');}).error(function(){alert('Can\\'t load image!');}).attr('src',$(n_e).attr('src'));return;}else if($(e).hasClass('next-video')){adv.find('.content-show-large .loading').fadeIn(100);var ce=adv.find('.video-contain.show');var ne;if(btParallax.list.index(ce)+1>=btParallax.list.length){ne=btParallax.list[0];}else{ne=btParallax.list[btParallax.list.index(ce)+1];}\nvar n_e=$(ne).val();adv.find('.content-show-large .item-contain').append(n_e);if(adv.find('.content-show-large .item-contain .video-inner').length>2){adv.find('.content-show-large .item-contain .video-inner:first').remove();}\nadv.find('.content-show-large .item-contain .video-inner:first').fadeOut(2000);adv.find('.content-show-large .item-contain .video-inner:last').fadeIn(2000,function(){if(adv.find('.content-show-large .item-contain .video-inner').length>2){adv.find('.content-show-large .item-contain .video-inner:first').remove();}});$(ne).addClass('show');ce.removeClass('show');return;}else if($(e).hasClass('next-post')){if(btParallax.isNavClick===false){return;}\nbtParallax.isNavClick=false;var left=Math.abs(btParallax.c_pos.position().left);if(left+options.next_prev_s<=btParallax.c_pos.width()-adv.find('.parallax-content.post-content').width()){btParallax.c_pos.animate({'transform':'translateX(-'+(left+options.next_prev_s)+'px)'},400,function(){btParallax.isNavClick=true;});}else{btParallax.c_pos.animate({'transform':'translateX(0px)'},400,function(){btParallax.isNavClick=true;});}\nreturn;}else{btParallax.animateStop();if(btParallax.isNavClick===false){return;}\nbtParallax.isNavClick=false;var left=Math.abs(btParallax.c_pos.position().left);if(left+options.next_prev_s>btParallax.c_pos.width()-$(window).width()){btParallax.c_pos.css('transform','translateX('+(btParallax.c_pos.position().left+(options.item_width+options.spacing)*2)+'px)');adv.find('.parallax-col:first').appendTo(btParallax.c_pos);adv.find('.parallax-col:first').appendTo(btParallax.c_pos);}\nbtParallax.c_pos.animate({'transform':'translateX('+(btParallax.c_pos.position().left-options.next_prev_s)+'px)'},400,function(){btParallax.isNavClick=true;btParallax.animateStart();});}};this.navPrevClick=function(e){if($(e).hasClass('prev-large')){var timeout=setTimeout(function(){adv.find('.content-show-large .loading').fadeIn(100);},100);var ce=adv.find('.show_box.show');var ne;if(btParallax.image_list.index(ce)-1<=0){ne=btParallax.image_list[btParallax.image_list.length-1];}else{ne=btParallax.image_list[btParallax.image_list.index(ce)-1];}\nvar n_e=$(ne).html();adv.find('.content-show-large .item-contain').append($(n_e).css('display','none'));if(adv.find('.content-show-large .item-contain img').length>2){adv.find('.content-show-large .item-contain img:first').remove();}\nvar img=new Image();$(img).load(function(){adv.find('.content-show-large .item-contain img:first').fadeOut(3000);adv.find('.content-show-large .item-contain img:last').fadeIn(3000,function(){if(adv.find('.content-show-large .item-contain img').length>2){adv.find('.content-show-large .item-contain img:first').remove();}});clearTimeout(timeout);adv.find('.content-show-large .loading').fadeOut(100);$(ne).addClass('show');ce.removeClass('show');}).error(function(){alert('Can\\'t load image!');}).attr('src',$(n_e).attr('src'));return;}else if($(e).hasClass('prev-video')){var timeout=setTimeout(function(){adv.find('.content-show-large .loading').fadeIn(100);},100);var ce=adv.find('.video-contain.show');var ne;if(btParallax.list.index(ce)-1<0){ne=btParallax.list[btParallax.list.length-1];}else{ne=btParallax.list[btParallax.list.index(ce)-1];}\nvar n_e=$(ne).val();adv.find('.content-show-large .item-contain').append($(n_e).css({'display':'none'}));if(adv.find('.content-show-large .item-contain .video-inner').length>2){adv.find('.content-show-large .item-contain .video-inner:first').remove();}\nadv.find('.content-show-large .item-contain .video-inner:first').fadeOut(2000);adv.find('.content-show-large .item-contain .video-inner:last').fadeIn(2000,function(){if(adv.find('.content-show-large .item-contain .video-inner').length>2){adv.find('.content-show-large .item-contain .video-inner:first').remove();}});clearTimeout(timeout);$(ne).addClass('show');ce.removeClass('show');return;}else if($(e).hasClass('prev-post')){if(btParallax.isNavClick===false){return;}\nbtParallax.isNavClick=false;var left=Math.abs(btParallax.c_pos.position().left);if(left-options.next_prev_s>=0){btParallax.c_pos.animate({'transform':'translateX(-'+(left-options.next_prev_s)+'px)'},400,function(){btParallax.isNavClick=true;});}else{btParallax.c_pos.animate({'transform':'translateX(-'+(btParallax.c_pos.width()-btParallax.c_pos.parent().width()-options.spacing)+'px)'},400,function(){btParallax.isNavClick=true;});}\nreturn;}else{btParallax.animateStop();if(btParallax.isNavClick===false){return;}\nbtParallax.isNavClick=false;var left=Math.abs(btParallax.c_pos.position().left);if(left+options.next_prev_s>0){btParallax.c_pos.css('transform','translateX('+(btParallax.c_pos.position().left-(options.item_width+options.spacing)*2)+'px)');btParallax.c_pos.prepend(adv.find('.parallax-col:last')).prepend(adv.find('.parallax-col:last'));}\nbtParallax.c_pos.animate({'transform':'translateX('+(btParallax.c_pos.position().left+options.next_prev_s)+'px)'},400,function(){btParallax.isNavClick=true;btParallax.animateStart();});}};this.imgThumbClick=function(e,el){if(btParallax.isThumClick===false){return;}else{if(btParallax.listAnimate===true){btParallax.animateStop();}else{adv.find('.nav-wrap').removeClass('hidden');}\nadv.find('.parallax-content-wrap').css('overflow-y','hidden');btParallax.ePos={'top':e.clientY,'left':e.clientX};btParallax.eSize={'width':$(el).width(),'height':$(el).height()};adv.find('.nav-prev').addClass('prev-large');adv.find('.nav-next').addClass('next-large');var show_box=$(el).parent().find('.show_box');show_box.addClass('show');var img=new Image();$(img).load(function(){adv.find('.content-show-large .item-contain').html(show_box.html());adv.find('.content-show-large').removeClass('hidden').fadeIn(300);adv.find('.content-show-large').css({'top':btParallax.ePos.top,'left':btParallax.ePos.left,'width':0,'height':0}).removeClass('hidden').addClass('show').animate({'top':0,'left':0,'width':'100%','height':'100%'},500,function(){adv.find('.content-show-large .loading').fadeIn(100);adv.find('.content-show-large .loading').fadeOut(100);adv.find('.button.close-btn').addClass('close-image-info');btParallax.isThumClick=false;});}).error(function(){alert('Can\\'t load image!');}).attr('src',$(show_box.html()).attr('src'));}};this.loadImageItems=function(in_out,callback){btParallax.row_list=adv.find('.parallax-row');if(in_out===true){btParallax.itemAnimateIn(btParallax.row_list,callback);}else{btParallax.itemAnimateOut(btParallax.row_list,callback);}};this.itemAnimateIn=function(list,callback){if(btParallax.itemIndex<list.length){setTimeout(function(){$(list[btParallax.itemIndex]).addClass('default-pos').removeClass('in-pos');btParallax.itemIndex++;btParallax.itemAnimateIn(btParallax.row_list,callback);},100);}else{callback();btParallax.itemIndex=0;}};this.itemAnimateOut=function(list,callback){if(btParallax.itemIndex<list.length){setTimeout(function(){$(list[btParallax.itemIndex]).addClass('out-pos').removeClass('default-pos');btParallax.itemIndex++;btParallax.itemAnimateOut(btParallax.row_list,callback);},100);}else{callback();btParallax.itemIndex=0;}};this.listItemAnimate=function(){if(options.scroll_direction==='rtl'){if(Math.abs(btParallax.c_pos.position().left)>=(((options.item_width+options.spacing)*btParallax.list.length)-btParallax.win_width-options.item_width)){btParallax.c_pos.css('transform','translateX('+(btParallax.c_pos.position().left+(options.item_width+options.spacing)-1)+'px)');adv.find('.parallax-col:first').appendTo(btParallax.c_pos);}else{btParallax.c_pos.css('transform','translateX('+(btParallax.c_pos.position().left-1)+'px)');}}else{if(Math.abs(btParallax.c_pos.position().left)===0){btParallax.c_pos.css('transform','translateX('+(btParallax.c_pos.position().left-(options.item_width+options.spacing)+1)+'px)');btParallax.c_pos.prepend(adv.find('.parallax-col:last'));}else{btParallax.c_pos.css('transform','translateX('+(btParallax.c_pos.position().left+1)+'px)');}}};this.animateStart=function(){btParallax.listItemAnimate();btParallax.timer=setTimeout(btParallax.animateStart,8);};this.animateStop=function(){clearTimeout(btParallax.timer);};this.backgroundImageResize=function(h){if(h){if(btParallax.background_img.height()<btParallax.background.height()){btParallax.background_img.css({'width':'auto','height':btParallax.background.height()});}}else{if(btParallax.background_img.width()<btParallax.background.width()){btParallax.background_img.css({'width':btParallax.background.width(),'height':'auto'});}}};this.responsive=function(){btParallax.win_height=$(window).height();btParallax.win_width=$(window).width();if(adv.parent().hasClass('full-width')){adv.parent().css({'width':btParallax.win_width,'marginLeft':'-'+adv.parent().parent()[0].getBoundingClientRect().left+'px'});adv.find('.parallax-block-content').css({'width':adv.parent().parent().width(),'marginLeft':adv.parent().parent().offset().left});}\nif(options.contentType==='postContent'){var item_num=Math.floor(btParallax.win_width/(options.item_width+options.spacing));btParallax.c_pos.parent().width(((options.item_width+options.spacing)*item_num)-options.spacing).css('left',(btParallax.win_width-(((options.item_width+options.spacing)*item_num)-options.spacing))/2+'px');if(btParallax.c_pos.width()>btParallax.win_width&&btParallax.enableControlButton){adv.find('.nav-wrap').removeClass('hidden');}else{adv.find('.nav-wrap').addClass('hidden');}\nif(btParallax.win_height>(btParallax.c_pos.parent().height())){btParallax.c_pos.parent().css('margin-top',(btParallax.win_height-((options.item_height+options.spacing)*options.rows-options.spacing))/2+'px');adv.find('.button-wrap .close-btn').removeClass('has-scroll');adv.find('.nav-wrap-in.next').removeClass('has-scroll');}else{btParallax.c_pos.parent().css('margin-top','20px');var item_num=Math.floor(btParallax.win_width/(options.item_width+options.spacing));btParallax.c_pos.parent().width(((options.item_width+options.spacing)*item_num)-options.spacing).css('overflow','hidden');btParallax.c_pos.parent().css('left',(btParallax.win_width-(((options.item_width+options.spacing)*item_num)-options.spacing))/2+'px');adv.find('.button-wrap .close-btn').addClass('has-scroll');adv.find('.nav-wrap-in.next').addClass('has-scroll');}}\nif(options.contentType==='image'){if(btParallax.c_pos.width()>btParallax.win_width&&btParallax.enableControlButton){adv.find('.nav-wrap').removeClass('hidden');}else{adv.find('.nav-wrap').addClass('hidden');}\nif(btParallax.win_height>((options.item_height+options.spacing)*options.rows-options.spacing+40)){btParallax.c_pos.css('margin-top',(btParallax.win_height-((options.item_height+options.spacing)*options.rows-options.spacing))/2+'px');adv.find('.button-wrap .close-btn').removeClass('has-scroll');adv.find('.nav-wrap-in.next').removeClass('has-scroll');}else{btParallax.c_pos.css('margin-top','20px');adv.find('.button-wrap .close-btn').addClass('has-scroll');adv.find('.nav-wrap-in.next').addClass('has-scroll');}}\nif(options.contentType==='video'){adv.find('.item-contain').css({'height':btParallax.win_height,'width':btParallax.win_width});}};btParallax.renderParallax();});};})(jQuery);";
var mod_pagespeed_eWEuTGwYup = "(function($){\"use strict\";$(document).ready(function(){$('#parallax-block').btparallaxfix(\"50%\",0.5);$(window).resize(function(){$('#parallax-block').btparallaxfix(\"50%\",0.5);});var options={slideSize:{'type':'full','size':''},parallaxType:'dynamic',item_width:200,item_height:200,rows:2,spacing:5,scroll_direction:'rtl',speed:2,next_prev_s:200,contentType:'video'};$('#parallax-block').btParallax(options);});$(document).ready(function(){$('#parallax-block-modern').btparallaxfix(\"50%\",0.5);var options={slideSize:{'type':'full','size':'1170'},parallaxType:'dynamic',item_width:'auto',item_height:'auto',centerPadding:50,rows:1,spacing:15,scroll_direction:'rtl',speed:2,next_prev_s:200,contentType:'image'};$('#parallax-block-modern').btParallax(options);});})(jQuery);";
var mod_pagespeed_tSWRQj$LiR = "(function(){\"use strict\";var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++){if(i in this&&this[i]===item)return i;}return-1;},__slice=[].slice;(function(root,factory){if(typeof define==='function'&&define.amd){return define('waypoints',['jquery'],function($){return factory($,root);});}else{return factory(root.jQuery,root);}})(this,function($,window){var $w,Context,Waypoint,allWaypoints,contextCounter,contextKey,contexts,isTouch,jQMethods,methods,resizeEvent,scrollEvent,waypointCounter,waypointKey,wp,wps;$w=$(window);isTouch=__indexOf.call(window,'ontouchstart')>=0;allWaypoints={horizontal:{},vertical:{}};contextCounter=1;contexts={};contextKey='waypoints-context-id';resizeEvent='resize.waypoints';scrollEvent='scroll.waypoints';waypointCounter=1;waypointKey='waypoints-waypoint-ids';wp='waypoint';wps='waypoints';Context=(function(){function Context($element){var _this=this;this.$element=$element;this.element=$element[0];this.didResize=false;this.didScroll=false;this.id='context'+contextCounter++;this.oldScroll={x:$element.scrollLeft(),y:$element.scrollTop()};this.waypoints={horizontal:{},vertical:{}};$element.data(contextKey,this.id);contexts[this.id]=this;$element.bind(scrollEvent,function(){var scrollHandler;if(!(_this.didScroll||isTouch)){_this.didScroll=true;scrollHandler=function(){_this.doScroll();return _this.didScroll=false;};return window.setTimeout(scrollHandler,$[wps].settings.scrollThrottle);}});$element.bind(resizeEvent,function(){var resizeHandler;if(!_this.didResize){_this.didResize=true;resizeHandler=function(){$[wps]('refresh');return _this.didResize=false;};return window.setTimeout(resizeHandler,$[wps].settings.resizeThrottle);}});}\nContext.prototype.doScroll=function(){var axes,_this=this;axes={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:'right',backward:'left'},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:'down',backward:'up'}};if(isTouch&&(!axes.vertical.oldScroll||!axes.vertical.newScroll)){$[wps]('refresh');}\n$.each(axes,function(aKey,axis){var direction,isForward,triggered;triggered=[];isForward=axis.newScroll>axis.oldScroll;direction=isForward?axis.forward:axis.backward;$.each(_this.waypoints[aKey],function(wKey,waypoint){var _ref,_ref1;if((axis.oldScroll<(_ref=waypoint.offset)&&_ref<=axis.newScroll)){return triggered.push(waypoint);}else if((axis.newScroll<(_ref1=waypoint.offset)&&_ref1<=axis.oldScroll)){return triggered.push(waypoint);}});triggered.sort(function(a,b){return a.offset-b.offset;});if(!isForward){triggered.reverse();}\nreturn $.each(triggered,function(i,waypoint){if(waypoint.options.continuous||i===triggered.length-1){return waypoint.trigger([direction]);}});});return this.oldScroll={x:axes.horizontal.newScroll,y:axes.vertical.newScroll};};Context.prototype.refresh=function(){var axes,cOffset,isWin,_this=this;isWin=$.isWindow(this.element);cOffset=this.$element.offset();this.doScroll();axes={horizontal:{contextOffset:isWin?0:cOffset.left,contextScroll:isWin?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:'right',backward:'left',offsetProp:'left'},vertical:{contextOffset:isWin?0:cOffset.top,contextScroll:isWin?0:this.oldScroll.y,contextDimension:isWin?$[wps]('viewportHeight'):this.$element.height(),oldScroll:this.oldScroll.y,forward:'down',backward:'up',offsetProp:'top'}};return $.each(axes,function(aKey,axis){return $.each(_this.waypoints[aKey],function(i,waypoint){var adjustment,elementOffset,oldOffset,_ref,_ref1;adjustment=waypoint.options.offset;oldOffset=waypoint.offset;elementOffset=$.isWindow(waypoint.element)?0:waypoint.$element.offset()[axis.offsetProp];if($.isFunction(adjustment)){adjustment=adjustment.apply(waypoint.element);}else if(typeof adjustment==='string'){adjustment=parseFloat(adjustment);if(waypoint.options.offset.indexOf('%')>-1){adjustment=Math.ceil(axis.contextDimension*adjustment/100);}}\nwaypoint.offset=elementOffset-axis.contextOffset+axis.contextScroll-adjustment;if((waypoint.options.onlyOnScroll&&(oldOffset!=null))||!waypoint.enabled){return;}\nif(oldOffset!==null&&(oldOffset<(_ref=axis.oldScroll)&&_ref<=waypoint.offset)){return waypoint.trigger([axis.backward]);}else if(oldOffset!==null&&(oldOffset>(_ref1=axis.oldScroll)&&_ref1>=waypoint.offset)){return waypoint.trigger([axis.forward]);}else if(oldOffset===null&&axis.oldScroll>=waypoint.offset){return waypoint.trigger([axis.forward]);}});});};Context.prototype.checkEmpty=function(){if($.isEmptyObject(this.waypoints.horizontal)&&$.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([resizeEvent,scrollEvent].join(' '));return delete contexts[this.id];}};return Context;})();Waypoint=(function(){function Waypoint($element,context,options){var idList,_ref;options=$.extend({},$.fn[wp].defaults,options);if(options.offset==='bottom-in-view'){options.offset=function(){var contextHeight;contextHeight=$[wps]('viewportHeight');if(!$.isWindow(context.element)){contextHeight=context.$element.height();}\nreturn contextHeight-$(this).outerHeight();};}\nthis.$element=$element;this.element=$element[0];this.axis=options.horizontal?'horizontal':'vertical';this.callback=options.handler;this.context=context;this.enabled=options.enabled;this.id='waypoints'+waypointCounter++;this.offset=null;this.options=options;context.waypoints[this.axis][this.id]=this;allWaypoints[this.axis][this.id]=this;idList=(_ref=$element.data(waypointKey))!=null?_ref:[];idList.push(this.id);$element.data(waypointKey,idList);}\nWaypoint.prototype.trigger=function(args){if(!this.enabled){return;}\nif(this.callback!=null){this.callback.apply(this.element,args);}\nif(this.options.triggerOnce){return this.destroy();}};Waypoint.prototype.disable=function(){return this.enabled=false;};Waypoint.prototype.enable=function(){this.context.refresh();return this.enabled=true;};Waypoint.prototype.destroy=function(){delete allWaypoints[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty();};Waypoint.getWaypointsByElement=function(element){var all,ids;ids=$(element).data(waypointKey);if(!ids){return[];}\nall=$.extend({},allWaypoints.horizontal,allWaypoints.vertical);return $.map(ids,function(id){return all[id];});};return Waypoint;})();methods={init:function(f,options){var _ref;if(options==null){options={};}\nif((_ref=options.handler)==null){options.handler=f;}\nthis.each(function(){var $this,context,contextElement,_ref1;$this=$(this);contextElement=(_ref1=options.context)!=null?_ref1:$.fn[wp].defaults.context;if(!$.isWindow(contextElement)){contextElement=$this.closest(contextElement);}\ncontextElement=$(contextElement);context=contexts[contextElement.data(contextKey)];if(!context){context=new Context(contextElement);}\nreturn new Waypoint($this,context,options);});$[wps]('refresh');return this;},disable:function(){return methods._invoke(this,'disable');},enable:function(){return methods._invoke(this,'enable');},destroy:function(){return methods._invoke(this,'destroy');},prev:function(axis,selector){return methods._traverse.call(this,axis,selector,function(stack,index,waypoints){if(index>0){return stack.push(waypoints[index-1]);}});},next:function(axis,selector){return methods._traverse.call(this,axis,selector,function(stack,index,waypoints){if(index<waypoints.length-1){return stack.push(waypoints[index+1]);}});},_traverse:function(axis,selector,push){var stack,waypoints;if(axis==null){axis='vertical';}\nif(selector==null){selector=window;}\nwaypoints=jQMethods.aggregate(selector);stack=[];this.each(function(){var index;index=$.inArray(this,waypoints[axis]);return push(stack,index,waypoints[axis]);});return this.pushStack(stack);},_invoke:function($elements,method){$elements.each(function(){var waypoints;waypoints=Waypoint.getWaypointsByElement(this);return $.each(waypoints,function(i,waypoint){waypoint[method]();return true;});});return this;}};$.fn[wp]=function(){var args,method;method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(methods[method]){return methods[method].apply(this,args);}else if($.isFunction(method)){return methods.init.apply(this,arguments);}else if($.isPlainObject(method)){return methods.init.apply(this,[null,method]);}else if(!method){return $.error(\"jQuery Waypoints needs a callback function or handler option.\");}else{return $.error(\"The \"+method+\" method does not exist in jQuery Waypoints.\");}};$.fn[wp].defaults={context:window,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};jQMethods={refresh:function(){return $.each(contexts,function(i,context){return context.refresh();});},viewportHeight:function(){var _ref;return(_ref=window.innerHeight)!=null?_ref:$w.height();},aggregate:function(contextSelector){var collection,waypoints,_ref;collection=allWaypoints;if(contextSelector){collection=(_ref=contexts[$(contextSelector).data(contextKey)])!=null?_ref.waypoints:void 0;}\nif(!collection){return[];}\nwaypoints={horizontal:[],vertical:[]};$.each(waypoints,function(axis,arr){$.each(collection[axis],function(key,waypoint){return arr.push(waypoint);});arr.sort(function(a,b){return a.offset-b.offset;});waypoints[axis]=$.map(arr,function(waypoint){return waypoint.element;});return waypoints[axis]=$.unique(waypoints[axis]);});return waypoints;},above:function(contextSelector){if(contextSelector==null){contextSelector=window;}\nreturn jQMethods._filter(contextSelector,'vertical',function(context,waypoint){return waypoint.offset<=context.oldScroll.y;});},below:function(contextSelector){if(contextSelector==null){contextSelector=window;}\nreturn jQMethods._filter(contextSelector,'vertical',function(context,waypoint){return waypoint.offset>context.oldScroll.y;});},left:function(contextSelector){if(contextSelector==null){contextSelector=window;}\nreturn jQMethods._filter(contextSelector,'horizontal',function(context,waypoint){return waypoint.offset<=context.oldScroll.x;});},right:function(contextSelector){if(contextSelector==null){contextSelector=window;}\nreturn jQMethods._filter(contextSelector,'horizontal',function(context,waypoint){return waypoint.offset>context.oldScroll.x;});},enable:function(){return jQMethods._invoke('enable');},disable:function(){return jQMethods._invoke('disable');},destroy:function(){return jQMethods._invoke('destroy');},extendFn:function(methodName,f){return methods[methodName]=f;},_invoke:function(method){var waypoints;waypoints=$.extend({},allWaypoints.vertical,allWaypoints.horizontal);return $.each(waypoints,function(key,waypoint){waypoint[method]();return true;});},_filter:function(selector,axis,test){var context,waypoints;context=contexts[$(selector).data(contextKey)];if(!context){return[];}\nwaypoints=[];$.each(context.waypoints[axis],function(i,waypoint){if(test(context,waypoint)){return waypoints.push(waypoint);}});waypoints.sort(function(a,b){return a.offset-b.offset;});return $.map(waypoints,function(waypoint){return waypoint.element;});}};$[wps]=function(){var args,method;method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];if(jQMethods[method]){return jQMethods[method].apply(null,args);}else{return jQMethods.aggregate.call(null,method);}};$[wps].settings={resizeThrottle:100,scrollThrottle:30};return $w.load(function(){return $[wps]('refresh');});});}).call(this);";
